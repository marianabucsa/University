<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Problema 3</title>
</head>
<body onload="load()">
    <div id="selection"></div>
    <div id="container"></div>
</body>
<script>

    function load() {
        var request;
        request = new XMLHttpRequest();
        request.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("selection").innerHTML = this.responseText;
            }
        };

        request.open("GET", "http://localhost/web/p3v1.php", true);
        request.send('');
    }

    function fillform(id) {
        var request;
        request = new XMLHttpRequest();
        request.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("container").innerHTML = this.responseText;
            }
        };

        request.open("GET", "http://localhost/web/p3v2.php?id=" + id, true);
        request.send('');
    }

    function save() {
        if (true == confirm("Are you sure you want to update this fields?")) {

            var select = document.getElementById("select");
            var nrMatricol = select.options[select.selectedIndex].value;
            var nume = document.getElementById("lname").value;
            var prenume = document.getElementById("fname").value;
            var nrTel = document.getElementById("pnum").value;

            var request;
            request = new XMLHttpRequest();
            request.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    confirm("Update completed");
                }
            };

            request.open("GET", "http://localhost/web/p3v3.php?id=" + nrMatricol + "&fname=" + nume + "&lname=" + prenume + "&pnum=" + nrTel, true);
            request.send('');
        }
    }

</script>
</html>